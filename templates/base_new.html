<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

<style>
/* === Стили для навигации и ссылок === */
.link-secondary {
    color: #8B0000 !important;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.link-secondary:hover {
    color: #FF4500 !important;
    text-shadow: 0px 0px 5px rgba(255,215,0,0.7);
}
.nav-link {
    text-decoration: underline;
    transition: color 0.3s, text-decoration-color 0.3s;
}
.nav-link:hover {
    color: #007bff;
}

/* === Фильтр-панель === */
.filter-panel {
    display: none;
    position: absolute;
    top: 60px;
    right: 20px;
    width: 300px;
    background: white;
    padding: 15px;
    border: 1px solid #ccc;
    border-radius: 8px;
    z-index: 9999;
}
.date-time-container {
    display: flex;
    justify-content: space-between;
}
.date-time-block input {
    width: 140px;
    margin-bottom: 5px;
}
</style>
</head>

<body>
<div class="container py-3">

<!-- === HEADER / ШАПКА === -->
<header class="bg-light shadow-sm p-3 mb-4">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between">

    <!-- ЛОГО -->
    <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
      <img src="https://avatars.githubusercontent.com/u/152429755?v=4" alt="GitHub Avatar" width="50" class="rounded-circle me-2">
      <span class="fs-4 fw-bold">GPStrekerList</span>
    </a>

    <!-- НАВИГАЦИЯ -->
    <nav class="nav">
      <a class="nav-link text-dark" href="/">Home</a>
      <a class="nav-link text-dark" href="/gallery">Gallery</a>
      <a class="nav-link text-dark" href="/about">About</a>
    </nav>

    <!-- КНОПКИ LOGIN / SELECT TRACKERS -->
    <div class="d-flex gap-2">
      <button id="loginBtn" class="btn btn-outline-primary" onclick="openLogin()">Log In</button>
      <button id="selectTrackersBtn" class="btn btn-outline-success" onclick="toggleFilterPanel()" disabled>Select Trackers</button>
    </div>

    <!-- ПОЛЬЗОВАТЕЛЬ -->
    <div id="currentUser" style="position:absolute; top:10px; right:250px; color:#555;"></div>

  </div>
</header>

<!-- === LOGIN MODAL / Панель входа === -->
<div id="loginPanel" class="filter-panel">
  <h5>Sign In</h5>
  <label for="usernameInput">Username1</label>
  <input type="text" id="usernameInput" class="form-control mb-2" placeholder="Enter username">
  <label for="passwordInput">Password</label>
  <input type="password" id="passwordInput" class="form-control mb-2" placeholder="Enter password">
  <button class="btn btn-primary" onclick="login()">Sign In</button>
  <p class="mt-2">Don't have an account? <button class="btn btn-link p-0" onclick="openRegister()">Sign Up</button></p>
  <button class="btn btn-secondary mt-1" onclick="closeLogin()">Cancel</button>
</div>

<!-- Подключение JS -->
<script src="{{ url_for('static', filename='login.js') }}"></script>

<!-- === FILTER PANEL / Панель фильтра === -->
<div id="filter-panel" class="filter-panel">
  <h5>Points Filter</h5>
  <label for="userFilter">Users</label>
  <select id="userFilter" multiple>
    <option value="" selected>All users</option>
  </select>

  <label>From date/time → To date/time</label>
  <div class="date-time-container">
    <div class="date-time-block">
      <input type="date" id="dateFromFilter">
      <input type="time" id="timeFromFilter">
    </div>
    <div class="date-time-block">
      <input type="date" id="dateToFilter">
      <input type="time" id="timeToFilter">
    </div>
  </div>

  <label for="statusFilter">Status points</label>
  <select id="statusFilter">
    <option value="">All points</option>
    <option value="1">Active points</option>
    <option value="0">Passive points</option>
  </select>

  <button onclick="applyFilters()" class="btn btn-primary mt-2">Search</button>
</div>

{% block body %}{% endblock %}

<!-- === Подключение JS === -->
<script src="{{ url_for('static', filename='js/login.js') }}"></script>

</body>
</html>




